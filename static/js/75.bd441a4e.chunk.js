"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[75],{5075:function(s,e,a){a.r(e),a.d(e,{default:function(){return xs}});var t=a(1413),o=a(5671),r=a(3144),n=a(136),i=a(5716),l=a(2791),c=a(885),u="ProfileInfo_profileInfoWrapper__O2pAU",d="ProfileInfo_mainImgBox__3mgel",m="ProfileInfo_descBlock__-g+cO",p="ProfileInfo_userPhotoBox__hjIbU",f="ProfileInfo_userPhoto__T7LES",h="ProfileInfo_changePhotoBox__cgy25",_="ProfileInfo_changePhotoLabel__5gfgo",x="ProfileInfo_changePhotoInput__hJm3s",j="ProfileInfo_userFullName__YpRio",N="ProfileInfo_userStatus__VVLmb",v="ProfileInfo_userStatusInput__GkXwX",P="ProfileInfo_aboutWrapper__BCQWQ",b="ProfileInfo_aboutTitleWrapper__vM-vr",g="ProfileInfo_aboutTitle__i71si",k="ProfileInfo_editBtn__WaZ4I",I="ProfileInfo_aboutDataWrapper__TgJsJ",C="ProfileInfo_aboutData__FiLjd",Z="ProfileInfo_editAboutData__aWrCg",y="ProfileInfo_aboutDataTitle__XIlyV",S="ProfileInfo_aboutDataText__9YSgG",F="ProfileInfo_contactsWrapper__9skYb",M="ProfileInfo_editContactsWrapper__wDyzx",A="ProfileInfo_editContact__db++J",W="ProfileInfo_contacts__ZKF3m",T="ProfileInfo_saveBtn__HLiMP",w=a(3723),D=a(983),B=a(5529),O=a(184),E=function(s){var e=(0,l.useState)(!1),a=(0,c.Z)(e,2),t=a[0],o=a[1],r=(0,l.useState)(s.status),n=(0,c.Z)(r,2),i=n[0],u=n[1];(0,l.useEffect)((function(){u(s.status)}),[s.status]);return(0,O.jsx)("div",{className:N,children:t?(0,O.jsx)("div",{children:(0,O.jsx)("input",{className:v,autoFocus:!0,onChange:function(s){u(s.currentTarget.value)},onBlur:function(){o(!1),s.updateStatus(i)},value:i})}):(0,O.jsx)("div",{children:(0,O.jsx)("span",{onDoubleClick:function(){o(!0)},title:"Double click to edit",children:s.status})})})},J=a(6139),U=a(704),L=a(1117),V=a(9234),z=(0,U.Z)({form:"edit-profile"})((function(s){var e=s.handleSubmit,a=s.error,t=s.profile;return(0,O.jsxs)("form",{onSubmit:e,className:I,children:[(0,O.jsxs)("div",{className:C,children:[(0,O.jsx)("span",{className:y,children:"Full name:"}),(0,O.jsx)(J.Z,{name:"fullName",placeholder:"Full name",component:L.II})]}),(0,O.jsxs)("div",{className:C,children:[(0,O.jsx)("span",{className:y,children:"Looking for a job:"}),(0,O.jsx)(J.Z,{name:"lookingForAJob",type:"checkbox",component:L.II})]}),(0,O.jsxs)("div",{className:C,children:[(0,O.jsx)("span",{className:y,children:"My professional skills:"}),(0,O.jsx)(J.Z,{name:"lookingForAJobDescription",placeholder:"My professional skills",component:L.gx})]}),(0,O.jsxs)("div",{className:C,children:[(0,O.jsx)("span",{className:y,children:"About me:"}),(0,O.jsx)(J.Z,{name:"aboutMe",placeholder:"About me",component:L.gx})]}),(0,O.jsxs)("div",{className:C+" "+Z,children:[(0,O.jsx)("span",{className:y,children:"Contacts:"}),(0,O.jsx)("div",{className:M,children:t.contacts&&Object.keys(t.contacts).map((function(s){return(0,O.jsxs)("div",{className:A,children:[(0,O.jsxs)("span",{className:y,children:[s,":"]}),(0,O.jsx)(J.Z,{name:"contacts."+s,placeholder:s,component:L.II})]},s)}))})]}),a&&(0,O.jsx)("div",{className:V.Z.formSummaryError,children:a}),(0,O.jsxs)("button",{className:T,children:[(0,O.jsx)("i",{className:"fa-regular fa-floppy-disk"}),"Save"]})]})})),H=function(s){var e=s.isOwner,a=s.profile,t=s.status,o=s.updateStatus,r=s.savePhoto,n=s.saveProfile,i=(0,l.useState)(!1),N=(0,c.Z)(i,2),v=N[0],I=N[1];if(!a)return(0,O.jsx)(D.p,{});return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:u,children:[(0,O.jsx)("div",{className:d,children:(0,O.jsx)("img",{src:w,alt:"main image"})}),(0,O.jsxs)("div",{className:m,children:[(0,O.jsx)("div",{className:p,children:(0,O.jsxs)("div",{className:f,children:[(0,O.jsx)("img",{src:a.photos.large||B,alt:"user image"}),e&&(0,O.jsx)("div",{className:h,children:(0,O.jsxs)("label",{htmlFor:"photoChange",className:_,children:["change",(0,O.jsx)("input",{type:"file",className:x,id:"photoChange",onChange:function(s){s.target.files&&s.target.files.length&&r(s.target.files[0])}})]})})]})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{className:j,children:a.fullName}),(0,O.jsx)(E,{status:t,updateStatus:o})]})]})]}),(0,O.jsxs)("div",{className:P,children:[(0,O.jsxs)("div",{className:b,children:[(0,O.jsx)("h3",{className:g,children:"About"}),e&&(0,O.jsx)("button",{className:k,onClick:function(){return I(!0)},children:(0,O.jsx)("i",{className:"fa-regular fa-pen-to-square"})})]}),v?(0,O.jsx)(z,{profile:a,initialValues:a,onSubmit:function(s){n(s).then((function(){I(!1)}))}}):(0,O.jsx)(q,{profile:a})]})]})},q=function(s){var e=s.profile,a=Object.keys(e.contacts);return(0,O.jsxs)("div",{className:I,children:[(0,O.jsxs)("div",{className:C,children:[(0,O.jsx)("span",{className:y,children:"Full name:"}),(0,O.jsx)("span",{className:S,children:e.fullName})]}),(0,O.jsxs)("div",{className:C,children:[(0,O.jsx)("span",{className:y,children:"Looking for a job:"}),(0,O.jsx)("span",{className:S,children:e.lookingForAJob?"yes":"no"})]}),e.lookingForAJob&&(0,O.jsxs)("div",{className:C,children:[(0,O.jsx)("span",{className:y,children:"My professional skills:"}),(0,O.jsx)("span",{className:S,children:e.lookingForAJobDescription})]}),(0,O.jsxs)("div",{className:C,children:[(0,O.jsx)("span",{className:y,children:"About me:"}),(0,O.jsx)("span",{className:S,children:e.aboutMe})]}),(0,O.jsxs)("div",{className:C,children:[(0,O.jsx)("span",{className:y,children:"Contacts:"}),(0,O.jsx)("div",{className:F,children:a.map((function(s){return(0,O.jsx)(K,{contactTitle:s,contactValue:e.contacts[s]},s)}))})]})]})},K=function(s){var e=s.contactTitle,a=s.contactValue;return(0,O.jsx)("div",{className:W,children:function(){if(a){var s;switch(e){case"facebook":s=(0,O.jsx)("i",{className:"fa-brands fa-facebook"});break;case"website":s=(0,O.jsx)("i",{className:"fa-solid fa-link"});break;case"vk":s=(0,O.jsx)("i",{className:"fa-brands fa-vk"});break;case"twitter":s=(0,O.jsx)("i",{className:"fa-brands fa-twitter"});break;case"instagram":s=(0,O.jsx)("i",{className:"fa-brands fa-instagram"});break;case"youtube":s=(0,O.jsx)("i",{className:"fa-brands fa-youtube"});break;case"github":s=(0,O.jsx)("i",{className:"fa-brands fa-github"});break;case"mainLink":s=(0,O.jsx)("i",{className:"fa-brands fa-linkedin"})}return(0,O.jsx)("a",{href:a,target:"_blank",children:s})}}()})},Q=a(9962),R="MyPosts_postsWrapper__nORtv",Y="MyPosts_addPostFormWrapper__Cpibn",G="MyPosts_addPostForm__ie91O",X="MyPosts_addPostFormTitleWrapper__KjOMm",$="MyPosts_addPostFormTitle__+lAhj",ss="MyPosts_addPostFormIconWrapper__pGU6o",es="MyPosts_addPostField__VqpnH",as="MyPosts_addPostBtn__AZF5I",ts="MyPosts_posts__uW1HD",os={postWrapper:"Post_postWrapper__fSVrh",post:"Post_post__INxKH",postAuthor:"Post_postAuthor__uHUCk",authorNameWrapper:"Post_authorNameWrapper__Nxfd8",authorName:"Post_authorName__lMD+K",postTime:"Post_postTime__WeQ3v",postText:"Post_postText__cmncz",seeMore:"Post_seeMore__DAjdM",postBottom:"Post_postBottom__r+ELb",likeBtn:"Post_likeBtn__8A9RM",likesCount:"Post_likesCount__KCm6Q"},rs=function(s){var e=s.postId,a=s.message,t=s.likesCount,o=s.likeIncrease;return(0,O.jsx)("div",{className:os.postWrapper,children:(0,O.jsxs)("div",{className:os.post,children:[(0,O.jsxs)("div",{className:os.postAuthor,children:[(0,O.jsx)("div",{className:os.authorPhoto,children:(0,O.jsx)("img",{src:B,alt:""})}),(0,O.jsxs)("div",{className:os.authorNameWrapper,children:[(0,O.jsx)("span",{className:os.authorName,children:"Victor Exrixon"}),(0,O.jsx)("span",{className:os.postTime,children:"22 min ago"})]})]}),(0,O.jsxs)("div",{className:os.postText,children:[a,(0,O.jsx)("span",{className:os.seeMore,children:(0,O.jsx)("a",{href:"#",children:"See more"})})]}),(0,O.jsxs)("div",{className:os.postBottom,children:[(0,O.jsx)("button",{className:os.likeBtn,onClick:function(){o(e)},children:(0,O.jsx)("i",{className:"fa-solid fa-thumbs-up"})}),(0,O.jsx)("span",{className:os.likesCount,children:t})]})]})})},ns=a(3079),is=l.memo((function(s){var e=s.posts,a=s.addPost;return(0,O.jsxs)("div",{className:R,children:[(0,O.jsx)(cs,{onSubmit:function(s){a(s.newPostText)}}),(0,O.jsx)("div",{className:ts,children:e.map((function(e){return(0,O.jsx)(rs,{postId:e.id,message:e.message,likesCount:e.likesCount,likeIncrease:s.likeIncrease},e.id)}))})]})})),ls=(0,ns.D)(1e3),cs=(0,U.Z)({form:"profileAddNewPostForm"})((function(s){return(0,O.jsx)("div",{className:Y,children:(0,O.jsxs)("form",{onSubmit:s.handleSubmit,className:G,children:[(0,O.jsxs)("div",{className:X,children:[(0,O.jsx)("div",{className:ss,children:(0,O.jsx)("i",{className:"fa-solid fa-pencil"})}),(0,O.jsx)("span",{className:$,children:"Create post"})]}),(0,O.jsx)("div",{className:es,children:(0,O.jsx)(J.Z,{name:"newPostText",component:L.gx,placeholder:"Enter your post",validate:[ns.C,ls]})}),(0,O.jsx)("div",{className:as,children:(0,O.jsx)("button",{children:"Add post"})})]})})})),us=a(364),ds=(0,us.$j)((function(s){return{posts:s.profilePage.posts}}),(function(s){return{addPost:function(e){s((0,Q.Pi)(e))},likeIncrease:function(e){s((0,Q.bq)(e))}}}))(is),ms="Profile_profileWrapper__wYgpM",ps=function(s){var e=s.profile,a=s.isOwner,t=s.status,o=s.updateStatus,r=s.savePhoto,n=s.saveProfile;return(0,O.jsxs)("div",{className:ms,children:[(0,O.jsx)(H,{isOwner:a,profile:e,status:t,updateStatus:o,savePhoto:r,saveProfile:n}),(0,O.jsx)(ds,{})]})},fs=a(9271),hs=a(7781),_s=function(s){(0,n.Z)(a,s);var e=(0,i.Z)(a);function a(){return(0,o.Z)(this,a),e.apply(this,arguments)}return(0,r.Z)(a,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorizedUserId?String(this.props.authorizedUserId):"")||this.props.history.push("/login"),this.props.getUserProfile(Number(s)),this.props.getStatus(Number(s))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e){this.props.match.params.userId!==s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,O.jsx)(ps,(0,t.Z)((0,t.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),a}(l.Component),xs=(0,hs.qC)((0,us.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:Q.et,getStatus:Q.lR,updateStatus:Q.Nf,savePhoto:Q.Ju,saveProfile:Q.Ii}),fs.EN)(_s)},1117:function(s,e,a){a.d(e,{gx:function(){return d},II:function(){return m}});var t=a(1413),o=a(5987),r=a(9234),n=a(184),i=["input","meta","children"],l=["input","meta"],c=["input","meta"],u=function(s){s.input;var e=s.meta,a=e.touched,t=e.error,l=s.children,c=((0,o.Z)(s,i),a&&t);return(0,n.jsxs)("div",{className:r.Z.formControl+" "+(c?r.Z.error:""),children:[(0,n.jsx)("div",{children:l}),c&&(0,n.jsx)("span",{children:t})]})},d=function(s){var e=s.input,a=(s.meta,(0,o.Z)(s,l));return(0,n.jsx)(u,(0,t.Z)((0,t.Z)({},s),{},{children:(0,n.jsx)("textarea",(0,t.Z)((0,t.Z)({},e),a))}))},m=function(s){var e=s.input,a=(s.meta,(0,o.Z)(s,c));return(0,n.jsx)(u,(0,t.Z)((0,t.Z)({},s),{},{children:(0,n.jsx)("input",(0,t.Z)((0,t.Z)({},e),a))}))}},3079:function(s,e,a){a.d(e,{C:function(){return t},D:function(){return o}});var t=function(s){if(!s)return"Field is required"},o=function(s){return function(e){if(e.length>s)return"Max length is ".concat(s," symbols")}}},9234:function(s,e){e.Z={formControl:"FormsControls_formControl__Fo9Fg",error:"FormsControls_error__Mz112",formSummaryError:"FormsControls_formSummaryError__EQHcD"}},3723:function(s,e,a){s.exports=a.p+"static/media/main-image.946b1f91186f5da00daf.jpg"}}]);
//# sourceMappingURL=75.bd441a4e.chunk.js.map