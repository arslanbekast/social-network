"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[528],{6461:function(t,s,r){r.r(s),r.d(s,{default:function(){return z}});var e=r(8683),n=r(5671),o=r(3144),i=r(136),u=r(5716),a=r(2791),c="ProfileInfo_mainImgBox__3mgel",l="ProfileInfo_descBlock__-g+cO",d="ProfileInfo_userPhoto__T7LES",p=r(3723),f=r(983),h=r(5529),m=r(885),x=r(184),j=function(t){var s=(0,a.useState)(!1),r=(0,m.Z)(s,2),e=r[0],n=r[1],o=(0,a.useState)(t.status),i=(0,m.Z)(o,2),u=i[0],c=i[1];(0,a.useEffect)((function(){c(t.status)}),[t.status]);return(0,x.jsx)("div",{children:e?(0,x.jsx)("div",{children:(0,x.jsx)("input",{autoFocus:!0,onChange:function(t){c(t.currentTarget.value)},onBlur:function(){n(!1),t.updateStatus(u)},value:u})}):(0,x.jsx)("div",{children:(0,x.jsx)("span",{onDoubleClick:function(){n(!0)},children:t.status})})})},v=function(t){var s=t.profile,r=t.status,e=t.updateStatus;return s?(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:c,children:(0,x.jsx)("img",{src:p,alt:"main image"})}),(0,x.jsxs)("div",{className:l,children:[(0,x.jsx)("img",{className:d,src:s.photos.large?s.photos.large:h,alt:"user image"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{children:s.aboutMe}),(0,x.jsx)(j,{status:r,updateStatus:e})]})]})]}):(0,x.jsx)(f.p,{})},g=r(81),_="MyPosts_postsBlock__FHynY",Z="MyPosts_posts__uW1HD",S="Post_item__STFvM",P=function(t){var s=t.message,r=t.likesCount;return(0,x.jsxs)("div",{className:S,children:[(0,x.jsx)("img",{src:h,alt:""}),s,(0,x.jsxs)("div",{children:[(0,x.jsx)("button",{children:"Like "})," ",r]})]})},C=r(6139),k=r(704),b=r(3079),y=r(1117),N=a.memo((function(t){var s=t.posts,r=t.addPost;return(0,x.jsxs)("div",{className:_,children:[(0,x.jsx)("h2",{children:"My posts"}),(0,x.jsx)(F,{onSubmit:function(t){r(t.newPostText)}}),(0,x.jsx)("div",{className:Z,children:s.map((function(t){return(0,x.jsx)(P,{message:t.message,likesCount:t.likesCount},t.id)}))})]})})),I=(0,b.D)(10),F=(0,k.Z)({form:"profileAddNewPostForm"})((function(t){return(0,x.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,x.jsx)("div",{children:(0,x.jsx)(C.Z,{name:"newPostText",component:y.gx,placeholder:"Enter your post",validate:[b.C,I]})}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{children:"Add post"})})]})})),M=r(364),w=(0,M.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(s){t((0,g.Pi)(s))}}}))(N),E=function(t){var s=t.profile,r=t.status,e=t.updateStatus;return(0,x.jsxs)("div",{children:[(0,x.jsx)(v,{profile:s,status:r,updateStatus:e}),(0,x.jsx)(w,{})]})},D=r(9271),T=r(7781),U=function(t){(0,i.Z)(r,t);var s=(0,u.Z)(r);function r(){return(0,n.Z)(this,r),s.apply(this,arguments)}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId?String(this.props.authorizedUserId):"")||this.props.history.push("/login"),this.props.getUserProfile(Number(t)),this.props.getStatus(Number(t))}},{key:"render",value:function(){return(0,x.jsx)(E,(0,e.Z)((0,e.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),r}(a.Component),z=(0,T.qC)((0,M.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:g.et,getStatus:g.lR,updateStatus:g.Nf}),D.EN)(U)},1117:function(t,s,r){r.d(s,{gx:function(){return d},II:function(){return p}});var e=r(8683),n=r(5987),o=r(9234),i=r(184),u=["input","meta","children"],a=["input","meta"],c=["input","meta"],l=function(t){t.input;var s=t.meta,r=s.touched,e=s.error,a=t.children,c=((0,n.Z)(t,u),r&&e);return(0,i.jsxs)("div",{className:o.Z.formControl+" "+(c?o.Z.error:""),children:[(0,i.jsx)("div",{children:a}),c&&(0,i.jsx)("span",{children:e})]})},d=function(t){var s=t.input,r=(t.meta,(0,n.Z)(t,a));return(0,i.jsx)(l,(0,e.Z)((0,e.Z)({},t),{},{children:(0,i.jsx)("textarea",(0,e.Z)((0,e.Z)({},s),r))}))},p=function(t){var s=t.input,r=(t.meta,(0,n.Z)(t,c));return(0,i.jsx)(l,(0,e.Z)((0,e.Z)({},t),{},{children:(0,i.jsx)("input",(0,e.Z)((0,e.Z)({},s),r))}))}},3079:function(t,s,r){r.d(s,{C:function(){return e},D:function(){return n}});var e=function(t){if(!t)return"Field is required"},n=function(t){return function(s){if(s.length>t)return"Max length is ".concat(t," symbols")}}},9234:function(t,s){s.Z={formControl:"FormsControls_formControl__Fo9Fg",error:"FormsControls_error__Mz112",formSummaryError:"FormsControls_formSummaryError__EQHcD"}},3723:function(t,s,r){t.exports=r.p+"static/media/main-image.946b1f91186f5da00daf.jpg"}}]);
//# sourceMappingURL=528.b15bee31.chunk.js.map